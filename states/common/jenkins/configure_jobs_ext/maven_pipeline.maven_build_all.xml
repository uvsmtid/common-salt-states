<?xml version='1.0' encoding='UTF-8'?>
<project>

  {% from 'common/jenkins/configure_jobs_ext/common_xml_templates.lib.sls' import common_job_configuration with context %}
  {{ common_job_configuration(job_config, job_environ) }}

  <builders>

    {% from 'common/jenkins/configure_jobs_ext/common_xml_templates.lib.sls' import copy_artifacts with context %}
    {{ copy_artifacts(job_config, job_environ) }}

    <hudson.tasks.Shell>
      <command>

        set -e
        set -u

        {% if 'skip_script_execution' in job_config and job_config['skip_script_execution'] %}
        exit 0
        {% endif %}


        # NOTE: This job does nothing.
        #       It is used as a trigger (dependency) for other Maven jobs.

        # CURRENT STATUS:
        #
        # This job config template is not used.
        # In the existing porjects, the "bulid all" job uses parent
        # `pom.xml` spanning all required Maven components in reactor build.
        #
        # In short, it can be done via `maven_pipeline.maven_project_job.xml`
        # job template which is used by individual projects.
        #
        # TODO: Should this template be removed?

      </command>
    </hudson.tasks.Shell>
  </builders>

  <publishers>

    {% from 'common/jenkins/configure_jobs_ext/common_xml_templates.lib.sls' import join_downstream_jobs_macro with context %}
    {{ join_downstream_jobs_macro(job_config, job_environ) }}

    {% from 'common/jenkins/configure_jobs_ext/common_xml_templates.lib.sls' import parameterized_job_triggers_macro with context %}
    {{ parameterized_job_triggers_macro(job_config, job_environ) }}

  </publishers>

  <buildWrappers/>

</project>

